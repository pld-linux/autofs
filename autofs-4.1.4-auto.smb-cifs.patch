diff --git a/samples/auto.smb b/samples/auto.smb
index ad44fc0..d0abcd7 100755
--- a/samples/auto.smb
+++ b/samples/auto.smb
@@ -5,7 +5,7 @@
 # This file must be executable to work! chmod 755!
 
 key="$1"
-opts="-fstype=smbfs"
+opts="-fstype=cifs"
 
 for P in /bin /sbin /usr/bin /usr/sbin
 do
@@ -20,7 +20,7 @@ done
 
 $SMBCLIENT -gNL $key 2>/dev/null| awk -v key="$key" -v opts="$opts" -F'|' -- '
 	BEGIN	{ ORS=""; first=1 }
-	/Disk/	{ if (first) { print opts; first=0 }; print " \\\n\t /" $2, "://" key "/" $2 }
+	/Disk/	{ if (first) { print opts; first=0 }; sub(/ /, "\\ ", $2); print " \\\n\t /" $2, "://" key "/" $2 }
 	END 	{ if (!first) print "\n"; else exit 1 }
 	'
 
